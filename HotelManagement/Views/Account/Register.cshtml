@{
    ViewData["Title"] = "Rejestracja";
    Layout = "_Layout";
}

<h2 class="mb-4">Rejestracja</h2>

@if (TempData["Error"] is string error)
{
    <div class="alert alert-danger">@error</div>
}
@if (!ViewData.ModelState.IsValid)
{
    <div class="alert alert-danger">
        Wystąpiły błędy podczas rejestracji. Sprawdź wprowadzone dane.
    </div>
}

<form asp-action="Register" method="post" class="mb-3">
    @Html.AntiForgeryToken()

    <div class="form-group mb-3">
        <label for="firstName">Imię</label>
        <input name="firstName" type="text" class="form-control" required />
    </div>

    <div class="form-group mb-3">
        <label for="lastName">Nazwisko</label>
        <input name="lastName" type="text" class="form-control" required />
    </div>

    <div class="form-group mb-3">
        <label for="email">Email</label>
        <input name="email" type="email" class="form-control" required />
    </div>

    <div class="form-group mb-3">
        <label for="phoneNumber">Numer telefonu</label>
        <input name="phoneNumber" type="tel" class="form-control" required pattern="[0-9+ ]+" />
    </div>

    <div class="form-group mb-3">
        <label for="password">Hasło</label>
        <input name="password" type="password" class="form-control" required />
    </div>

    <button type="submit" class="btn btn-success w-100">Zarejestruj</button>
</form>

<hr />

<!-- 🔑 Rejestracja / logowanie przez Google -->
<form asp-action="ExternalLogin" method="post">
    @Html.AntiForgeryToken()
    <input type="hidden" name="provider" value="Google" />
    <button type="submit" class="btn btn-outline-danger w-100">
        <i class="bi bi-google"></i> Zarejestruj / zaloguj przez Google
    </button>
</form>

<p class="mt-3 text-center">
    Masz już konto? <a asp-action="Login" asp-controller="Account">Zaloguj się</a>
</p>
